(this["webpackJsonpreact-kamasutra"]=this["webpackJsonpreact-kamasutra"]||[]).push([[0],{12:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a})),n.d(t,"h",(function(){return c})),n.d(t,"g",(function(){return o})),n.d(t,"e",(function(){return s})),n.d(t,"f",(function(){return u})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return l}));var r="CREATE_MESSAGE",a="FOLLOW",c="UNFOLLOW",o="TOGGLE_IS_FOLLOWING",s="SET_USERS",u="TOGGLE_IS_FETCHING_USERS",i="SET_ACTIVE_PAGE",l="SET_TOTAL_COUNT"},124:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(35),a=n(5),c=n(12),o={dialogs:[{id:1,name:"James"},{id:2,name:"Bond"},{id:3,name:"James Bond"}],messages:[{id:1,message:"Hello"},{id:2,message:"Hola"}]},s=function(e){return{type:c.a,payload:e}};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c.a:var n={id:3,message:t.payload};return Object(a.a)(Object(a.a)({},e),{},{messages:[].concat(Object(r.a)(e.messages),[n])});default:return e}}},130:function(e,t,n){e.exports={selected:"Pagination_selected__d31AX"}},131:function(e,t,n){e.exports={loader_1:"Loader_loader_1__36ri0",loader_2:"Loader_loader_2__1-xyi",spinner:"Loader_spinner__2CH3v"}},15:function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return s}));var r=n(129),a=r.create({baseURL:"https://social-network.samuraijs.com/api/1.0/",withCredentials:!0,headers:{"API-KEY":"fbf0bec4-38e2-4c6a-98a6-4d83e4b90085"}}),c={getUsers:function(e,t){return a.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},follow:function(e){return a.post("follow/".concat(e)).then((function(e){return e.data.resultCode}))},unFollow:function(e){return a.delete("follow/".concat(e)).then((function(e){return e.data.resultCode}))},getUserProfile:function(e){return console.warn("Obsolete method. Please use profileAPI object."),o.getUserProfile(e)}},o={getUserProfile:function(e){return a.get("profile/".concat(e)).then((function(e){return e.data}))},getStatus:function(e){return a.get("profile/status/".concat(e)).then((function(e){return e.data}))},updateStatus:function(e){return a.put("profile/status",{status:e})}},s={authMe:function(){return a.get("auth/me").then((function(e){if(0===e.data.resultCode)return e.data.data}))},login:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return a.post("auth/login",{email:e,password:t,rememberMe:n})},logout:function(){return a.delete("auth/login")}}},16:function(e,t,n){e.exports={nav:"Navbar_nav__3u2NC",item:"Navbar_item__QtV_N",active:"Navbar_active__3sM7-"}},173:function(e,t,n){},294:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(65),o=n.n(c),s=n(36),u=n(37),i=n(39),l=n(38),d=n(10),f=n(22),p=n(16),j=n.n(p),b=n(1),h=function(){return Object(b.jsxs)("nav",{className:j.a.nav,children:[Object(b.jsx)("div",{children:Object(b.jsx)(f.b,{className:j.a.item,to:"/profile",activeClassName:j.a.active,children:"Profile"})}),Object(b.jsx)("div",{children:Object(b.jsx)(f.b,{className:j.a.item,to:"/dialogs",activeClassName:j.a.active,children:"Dialogs"})}),Object(b.jsx)("div",{children:Object(b.jsx)(f.b,{className:j.a.item,to:"/users",activeClassName:j.a.active,children:"Users"})}),Object(b.jsx)("div",{children:Object(b.jsx)(f.b,{className:j.a.item,to:"/news",activeClassName:j.a.active,children:"News"})}),Object(b.jsx)("div",{children:Object(b.jsx)(f.b,{className:j.a.item,to:"/music",activeClassName:j.a.active,children:"Music"})}),Object(b.jsx)("div",{children:Object(b.jsx)(f.b,{className:j.a.item,to:"/settings",activeClassName:j.a.active,children:"Settings"})})]})},O=(n(173),n(18)),m=n(9),v=n.n(m),g=n(20),x=n(35),A=n(5),w=n(12),S=n(15),I=function(e,t,n,r){return e.map((function(e){return e[n]===t?Object(A.a)(Object(A.a)({},e),r):e}))},E={users:[],pageSize:100,totalUsersCount:0,currentPage:1,isFetching:!1,followUnfollowInProgress:[],fake:10},C=function(e){return{type:w.b,payload:e}},P=function(e){return{type:w.h,payload:e}},N=function(e){return{type:w.e,payload:e}},y=function(e){return{type:w.c,payload:e}},L=function(e){return{type:w.d,payload:e}},U=function(e){return{type:w.f,payload:e}},k=function(e,t){return{type:w.g,payload:{isFetching:e,userId:t}}},z=function(){var e=Object(g.a)(v.a.mark((function e(t,n,r,a){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(k(!0,n)),e.next=3,r(n);case 3:0===e.sent&&t(a(n)),t(k(!1,n));case 6:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.f:return Object(A.a)(Object(A.a)({},e),{},{isFetching:t.payload});case w.e:return Object(A.a)(Object(A.a)({},e),{},{users:t.payload});case w.d:return Object(A.a)(Object(A.a)({},e),{},{totalUsersCount:t.payload});case w.g:return Object(A.a)(Object(A.a)({},e),{},{followUnfollowInProgress:t.payload.isFetching?[].concat(Object(x.a)(e.followUnfollowInProgress),[t.payload.userId]):Object(x.a)(e.followUnfollowInProgress.filter((function(e){return e!=t.payload.userId})))});case w.b:return Object(A.a)(Object(A.a)({},e),{},{users:I(e.users,t.payload,"id",{followed:!0})});case w.b:return Object(A.a)(Object(A.a)({},e),{},{users:I(e.users,t.payload,"id",{followed:!1})});case w.c:return Object(A.a)(Object(A.a)({},e),{},{currentPage:t.payload});default:return e}},T=n(126),D=n(130),M=n.n(D),J=function(e){for(var t=e.totalUsersCount,n=e.pageSize,a=e.currentPage,c=e.setCurrentPageHandler,o=e.portionSize,s=void 0===o?10:o,u=Math.ceil(t/n),i=[],l=1;l<=u;l++)i.push(l);var d=Math.ceil(u/s),f=Object(r.useState)(1),p=Object(T.a)(f,2),j=p[0],h=p[1],O=(j-1)*s+1,m=j*s;return console.log(d),console.log(j),console.log(u),Object(b.jsxs)("div",{children:[j>1&&Object(b.jsx)("button",{onClick:function(){return h(j-1)},children:"prev"}),i.filter((function(e){return e>=O&&e<=m})).map((function(e){return Object(b.jsxs)("span",{onClick:function(t){c(e)},className:a===e&&M.a.selected,children:[" ",e]},e)})),d>j&&Object(b.jsx)("button",{onClick:function(){return h(j+1)},children:"next"})]})},H=n(89),Q=n.n(H),F=function(e){var t=e.user,n=e.unFollow,r=e.follow,a=e.followUnfollowInProgress;return Object(b.jsxs)("div",{className:Q.a.user,children:[Object(b.jsx)("div",{children:Object(b.jsx)(f.b,{to:"/profile/".concat(t.id),children:Object(b.jsx)("img",{className:Q.a.userPhoto,src:t.photos.small?t.photos.small:"data:image/png;base64,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",alt:""})})}),Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{children:["ID: ",t.id]}),Object(b.jsxs)("div",{children:["Name: ",t.name]}),t.followed?Object(b.jsx)("button",{onClick:function(){n(t.id)},disabled:a.some((function(e){return e===t.id})),children:"Unfollow"}):Object(b.jsx)("button",{onClick:function(){r(t.id)},disabled:a.some((function(e){return e===t.id})),children:"Follow"})]})]})},K=function(e){for(var t=e.totalUsersCount,n=e.pageSize,r=e.currentPage,a=e.setCurrentPageHandler,c=e.users,o=e.unFollow,s=e.follow,u=e.followUnfollowInProgress,i=Math.ceil(t/n),l=[],d=1;d<=i;d++)l.push(d);return Object(b.jsxs)("div",{children:[Object(b.jsx)(J,{setCurrentPageHandler:a,currentPage:r,pageSize:n,totalUsersCount:t}),c.map((function(e){return Object(b.jsx)(F,{user:e,follow:s,unFollow:o,followUnfollowInProgress:u},e.id)}))]})},B=n(41),W=n(132),Z=Object(W.a)((function(e){return e.usersPage.users}),(function(e){return e.filter((function(e){return!0}))})),Y=function(e){return e.usersPage.pageSize},q=function(e){return e.usersPage.totalUsersCount},G=function(e){return e.usersPage.currentPage},V=function(e){return e.usersPage.isFetching},X=function(e){return e.usersPage.followUnfollowInProgress},_=function(e){Object(i.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(s.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).setCurrentPageHandler=function(t){var n=e.props;(0,n.requestUsers)(t,n.pageSize)},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.currentPage,n=e.pageSize;(0,e.requestUsers)(t,n)}},{key:"render",value:function(){return Object(b.jsxs)(b.Fragment,{children:[this.props.isFetching&&Object(b.jsx)(B.a,{}),Object(b.jsx)(K,{totalUsersCount:this.props.totalUsersCount,currentPage:this.props.currentPage,users:this.props.users,pageSize:this.props.pageSize,setCurrentPageHandler:this.setCurrentPageHandler,follow:this.props.follow,unFollow:this.props.unFollow,isFetching:this.props.isFetching,followUnfollowInProgress:this.props.followUnfollowInProgress})]})}}]),n}(a.a.Component),$=Object(O.b)((function(e){return{users:Z(e),pageSize:Y(e),totalUsersCount:q(e),currentPage:G(e),isFetching:V(e),followUnfollowInProgress:X(e)}}),{setUsersAC:N,setCurrentPage:y,setTotalUsersCountAC:L,requestUsers:function(e,t){return function(){var n=Object(g.a)(v.a.mark((function n(r){var a;return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(U(!0)),r(y(e)),n.next=4,S.c.getUsers(e,t);case 4:a=n.sent,r(U(!1)),r(N(a.items)),r(L(a.totalCount));case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},follow:function(e){return function(){var t=Object(g.a)(v.a.mark((function t(n){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:z(n,e,S.c.follow.bind(S.c),C);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},unFollow:function(e){return function(){var t=Object(g.a)(v.a.mark((function t(n){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:z(n,e,S.c.unFollow.bind(S.c),P);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})(_),ee=n(90),te=n.n(ee),ne=function(e){return Object(b.jsxs)("header",{className:te.a.header,children:[Object(b.jsx)("img",{src:"data:image/png;base64,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",alt:""}),Object(b.jsx)("div",{className:te.a.loginBlock,children:e.isAuth&&Object(b.jsxs)("div",{children:[Object(b.jsx)("span",{children:e.login})," - ",Object(b.jsx)("button",{onClick:e.logoutThunkCreator,children:"Logout"})]})})]})},re=n(45),ae="thisApp/authReducer/SET_USER_DATA",ce={userId:null,email:null,login:null,isAuth:!1},oe=function(e,t,n,r){return{type:ae,payload:{userId:e,email:t,login:n,isAuth:r}}},se=function(){return function(){var e=Object(g.a)(v.a.mark((function e(t){var n,r,a,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.authMe();case 2:(n=e.sent)&&(r=n.id,a=n.email,c=n.login,t(oe(r,a,c,!0)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},ue=function(e){Object(i.a)(n,e);var t=Object(l.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(b.jsx)(ne,Object(A.a)({},this.props))}}]),n}(a.a.Component),ie=Object(O.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}}),{logoutThunkCreator:function(e,t,n){return function(){var e=Object(g.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.logout();case 2:0===e.sent.data.resultCode&&t(oe(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(ue),le=n(125),de=n(34),fe=n(48),pe=n(54),je=n.n(pe),be=Object(fe.a)(20),he=Object(le.a)({form:"login"})((function(e){var t=e.handleSubmit,n=e.error;return Object(b.jsxs)("form",{onSubmit:t,children:[Object(b.jsx)("h1",{children:"Login"}),Object(de.c)("email","email","Enter email",de.a,[fe.b,be]),Object(de.c)("password","password","Enter password",de.a,[fe.b,be]),Object(de.c)("rememberMe","checkbox",null,de.a,[],"Remember Me"),n&&Object(b.jsx)("div",{className:je.a.formSummaryError,children:n}),Object(b.jsx)("div",{children:Object(b.jsx)("button",{children:"Submit"})})]})})),Oe=Object(O.b)((function(e){return{isAuth:e.auth.isAuth}}),{loginThunkCreator:function(e,t,n){return function(){var r=Object(g.a)(v.a.mark((function r(a){var c,o;return v.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,S.a.login(e,t,n);case 2:0===(c=r.sent).data.resultCode?a(se()):(o=c.data.messages.length>0?c.data.messages[0]:"Wrong credentials",a(Object(re.a)("login",{_error:o})));case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}})((function(e){var t=e.loginThunkCreator;return e.isAuth?Object(b.jsx)(d.a,{to:"/profile"}):Object(b.jsx)("div",{children:Object(b.jsx)(he,{onSubmit:function(e){var n=e.email,r=e.password,a=e.rememberMe;t(n,r,a)}})})})),me="thisApp/appReducer/SET_INITIALIZED",ve={initialized:!1},ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case me:return Object(A.a)(Object(A.a)({},e),{},{initialized:!0});default:return e}},xe=n(11),Ae=n(94),we=n(124),Se={},Ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se;return e},Ee=n(135),Ce=n(127),Pe=Object(xe.c)({app:ge,profilePage:Ae.b,dialogsPage:we.b,sidebarPage:Ie,usersPage:R,auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ae:return Object(A.a)(Object(A.a)({},e),t.payload);default:return e}},form:Ce.a}),Ne=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||xe.d,ye=Object(xe.e)(Pe,Ne(Object(xe.a)(Ee.a)));window.store=ye;var Le=ye,Ue=function(e){return function(t){return Object(b.jsx)(a.a.Suspense,{fallback:Object(b.jsx)(B.a,{}),children:Object(b.jsx)(e,Object(A.a)({},t))})}},ke=a.a.lazy((function(){return n.e(4).then(n.bind(null,301))})),ze=a.a.lazy((function(){return n.e(3).then(n.bind(null,300))})),Re=function(e){Object(i.a)(n,e);var t=Object(l.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.initialized?Object(b.jsxs)("div",{className:"app-wrapper",children:[Object(b.jsx)(ie,{}),Object(b.jsx)(h,{}),Object(b.jsxs)("div",{className:"app-wrapper-content",children:[Object(b.jsx)(d.b,{path:"/dialogs",render:Ue(ke)}),Object(b.jsx)(d.b,{path:"/profile",render:Ue(ze)}),Object(b.jsx)(d.b,{path:"/users",render:function(){return Object(b.jsx)($,{})}}),Object(b.jsx)(d.b,{path:"/login",render:function(){return Object(b.jsx)(Oe,{})}})]})]}):Object(b.jsx)(B.a,{})}}]),n}(a.a.Component),Te=Object(O.b)((function(e){return{initialized:e.app.initialized}}),{initializeApp:function(){return function(e){var t=e(se());Promise.all([t]).then((function(){e({type:me})}))}}})(Re),De=function(e){return Object(b.jsx)(f.a,{children:Object(b.jsx)(O.a,{store:Le,children:Object(b.jsx)(Te,{})})})};o.a.render(Object(b.jsx)(De,{}),document.getElementById("root"))},34:function(e,t,n){"use strict";n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return p})),n.d(t,"c",(function(){return j}));var r=n(5),a=n(93),c=(n(0),n(54)),o=n.n(c),s=n(86),u=(n(48),n(1)),i=["input","meta","child"],l=["input","meta","child"],d=function(e){e.input;var t=e.meta,n=t.touched,r=t.error,a=e.children,c=r&&n;return Object(u.jsxs)("div",{className:o.a.formControl+" "+(c?o.a.error:""),children:[Object(u.jsx)("div",{children:a}),c&&Object(u.jsx)("span",{children:r})]})},f=function(e){var t=e.input,n=(e.meta,e.child,Object(a.a)(e,i));return Object(u.jsx)(d,Object(r.a)(Object(r.a)({},e),{},{children:Object(u.jsx)("textarea",Object(r.a)(Object(r.a)({},t),n))}))},p=function(e){var t=e.input,n=(e.meta,e.child,Object(a.a)(e,l));return Object(u.jsx)(d,Object(r.a)(Object(r.a)({},e),{},{children:Object(u.jsx)("input",Object(r.a)(Object(r.a)({},t),n))}))},j=function(e,t,n,r,a){return Object(u.jsx)("div",{children:Object(u.jsx)(s.a,{name:e,type:t,placeholder:n,component:r,validate:a})})}},41:function(e,t,n){"use strict";n(0);var r=n(131),a=n.n(r),c=n(1);t.a=function(){return Object(c.jsx)("div",{className:a.a.loader_1})}},48:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}));var r=function(e){if(!e)return"Field is required"},a=function(e){return function(t){if(t&&t.length>e)return"Max length is ".concat(e," symbols")}}},54:function(e,t,n){e.exports={formControl:"formControls_formControl__1Wuwd",error:"formControls_error__1OfP8",formSummaryError:"formControls_formSummaryError__2jTN_"}},89:function(e,t,n){e.exports={user:"Users_user__3pWYA",userPhoto:"Users_userPhoto__q5sIP"}},90:function(e,t,n){e.exports={header:"Header_header__2mWR5",loginBlock:"Header_loginBlock__y1QOD"}},94:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"d",(function(){return b})),n.d(t,"c",(function(){return h})),n.d(t,"e",(function(){return O}));var r=n(9),a=n.n(r),c=n(20),o=n(35),s=n(5),u=n(15),i="thisApp/profileReducer/ADD_POST",l="thisApp/profileReducer/SET_USER_PROFILE",d="thisApp/profileReducer/GET_STATUS",f={posts:[{id:1,message:"James",likesCount:2},{id:2,message:"Bond",likesCount:2},{id:3,message:"James Bond",likesCount:2}],profile:null,status:""},p=function(e){return{type:i,payload:e}},j=function(e){return{type:d,payload:e}},b=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.c.getUserProfile(e);case 2:r=t.sent,n({type:l,payload:r});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},h=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.b.getStatus(e);case 2:r=t.sent,n(j(r));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},O=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.b.updateStatus(e);case 2:0===t.sent.data.resultCode&&n(j(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i:var n={id:3,message:t.payload,likesCount:0};return Object(s.a)(Object(s.a)({},e),{},{posts:[].concat(Object(o.a)(e.posts),[n])});case l:return Object(s.a)(Object(s.a)({},e),{},{profile:t.payload});case d:return Object(s.a)(Object(s.a)({},e),{},{status:t.payload});default:return e}}}},[[294,1,2]]]);
//# sourceMappingURL=main.991ac4bc.chunk.js.map