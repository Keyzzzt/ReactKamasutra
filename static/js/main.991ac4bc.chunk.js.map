{"version":3,"sources":["redux/const.js","redux/reducers/dialogsReducer.js","Components/common/Pagination/Pagination.module.css","styles/Loader.module.css","api/api.js","styles/Navbar.module.css","Components/Navbar/Navbar.jsx","utils/reducerHelper.js","redux/reducers/usersReducer.js","Components/common/Pagination/Pagination.jsx","Components/Users/SingleUser.jsx","assets/images/noLogo.png","Components/Users/Users.jsx","redux/usersSelectors.js","Components/UsersContainer.js","Components/Header/Header.jsx","redux/reducers/authReducer.js","Components/HeaderContainer.jsx","Components/Forms/Login.jsx","redux/reducers/appReducer.js","redux/reducers/sidebarReducer.js","redux/reduxStore.js","HOC/withSuspense.js","App.js","index.js","Components/common/FormsControls/FormsControls.js","Components/common/Loader.jsx","utils/reduxFormValidators.js","Components/common/FormsControls/formControls.module.css","Components/Users/Users.module.css","styles/Header.module.css","redux/reducers/profileReducer.js"],"names":["CREATE_MESSAGE","FOLLOW","UNFOLLOW","TOGGLE_IS_FOLLOWING","SET_USERS","TOGGLE_IS_FETCHING_USERS","SET_ACTIVE_PAGE","SET_TOTAL_COUNT","initialState","dialogs","id","name","messages","message","createNewMessageAC","value","type","payload","dialogsReducer","state","action","newMessage","module","exports","requestSetup","axios","baseURL","withCredentials","headers","usersAPI","getUsers","currentPage","pageSize","get","then","response","data","follow","userId","post","resultCode","unFollow","delete","getUserProfile","console","warn","profileAPI","getStatus","updateStatus","status","put","authAPI","authMe","login","email","password","rememberMe","logout","Navbar","className","s","nav","item","to","activeClassName","active","updateObjectInArray","items","itemId","objectPropName","newObjectProps","map","u","users","totalUsersCount","isFetching","followUnfollowInProgress","fake","followSuccessAC","unFollowSuccessAC","setUsersAC","setCurrentPage","pageNumber","setTotalUsersCountAC","totalCount","toggleIsFetching","toggleFollowingProgressAC","followUnFollowFlow","dispatch","apiMethod","actionCreator","a","usersReducer","filter","followed","Pagination","setCurrentPageHandler","portionSize","totalUserPages","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","log","onClick","p","page","e","styles","selected","SingleUser","user","userPhoto","src","photos","small","alt","disabled","some","Users","getUsersReselect","createSelector","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowUnfollowInProgress","UsersContainer","props","requestUsers","this","Loader","React","Component","connect","bind","Header","header","loginBlock","isAuth","logoutThunkCreator","SET_USER_DATA","setAuthUserData","getUserCredentialsThunkCreator","HeaderContainer","auth","maxLength20","maxLengthCreator","ReduxLoginForm","reduxForm","form","handleSubmit","error","onSubmit","createField","Input","required","formSummaryError","loginThunkCreator","errorMessage","length","stopSubmit","_error","SET_INITIALIZED","initialized","appReducer","sidebarReducer","reducers","combineReducers","app","profilePage","profileReducer","dialogsPage","sidebarPage","formReducer","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","WithSuspense","Suspense","fallback","DialogsContainer","lazy","ProfileContainer","App","initializeApp","path","render","AppContainer","promise","Promise","all","MainApp","ReactDOM","document","getElementById","FormControl","input","meta","touched","children","isError","formControl","Textarea","restProps","child","placeholder","component","validate","loader_1","maxLength","ADD_POST","SET_USER_PROFILE","GET_STATUS","posts","likesCount","profile","addPostAC","setStatusAC","getUsersProfileThunkCreator","getStatusThunkCreator","updateStatusThunkCreator","statusText","newPost"],"mappings":"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","file":"static/js/main.991ac4bc.chunk.js","sourcesContent":["export const ADD_POST = 'ADD_POST'\r\nexport const CREATE_MESSAGE = 'CREATE_MESSAGE'\r\n\r\n\r\nexport const FOLLOW = 'FOLLOW'\r\nexport const UNFOLLOW = 'UNFOLLOW'\r\n\r\nexport const TOGGLE_IS_FOLLOWING = 'TOGGLE_IS_FOLLOWING'\r\nexport const SET_USERS = 'SET_USERS'\r\nexport const TOGGLE_IS_FETCHING_USERS = 'TOGGLE_IS_FETCHING_USERS'\r\n\r\nexport const SET_ACTIVE_PAGE = 'SET_ACTIVE_PAGE'\r\nexport const SET_TOTAL_COUNT = 'SET_TOTAL_COUNT'\r\n\r\nexport const SET_USER_PROFILE = 'SET_USER_PROFILE'\r\nexport const SET_USER_DATA = 'SET_USER_DATA'\r\nexport const GET_STATUS = 'GET_STATUS'\r\n\r\nexport const SET_INITIALIZED = 'SET_INITIALIZED'\r\n\r\n","\r\nimport {\r\n    CREATE_MESSAGE\r\n} from '../const'\r\n\r\nlet initialState = {\r\n    dialogs: [\r\n        {id: 1, name: 'James'},\r\n        {id: 2, name: 'Bond'},\r\n        {id: 3, name: 'James Bond'},\r\n    ],\r\n    messages: [\r\n        {id:1, message:'Hello' },\r\n        {id:2, message:'Hola' },\r\n    ],\r\n}\r\n\r\nexport const dialogsReducer = (state = initialState, action) => {\r\n    switch(action.type){\r\n        case CREATE_MESSAGE: {\r\n            let newMessage = {id: 3, message: action.payload}\r\n            return {...state, messages: [...state.messages, newMessage]}\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\n\r\nexport const createNewMessageAC = (value) => ({type: CREATE_MESSAGE, payload: value})\r\n\r\nexport default dialogsReducer","// extracted by mini-css-extract-plugin\nmodule.exports = {\"selected\":\"Pagination_selected__d31AX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader_1\":\"Loader_loader_1__36ri0\",\"loader_2\":\"Loader_loader_2__1-xyi\",\"spinner\":\"Loader_spinner__2CH3v\"};","import * as axios from \"axios\";\r\n\r\n\r\nconst requestSetup = axios.create({\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    withCredentials: true,\r\n    headers: {\r\n        'API-KEY': 'fbf0bec4-38e2-4c6a-98a6-4d83e4b90085'\r\n    }\r\n\r\n})\r\n\r\nexport const usersAPI = {\r\n    getUsers: function(currentPage, pageSize) {\r\n        return requestSetup\r\n            .get(`users?page=${currentPage}&count=${pageSize}`)\r\n            .then(response => response.data)\r\n    },\r\n    follow: function(userId){\r\n        return requestSetup\r\n            .post(`follow/${userId}`)\r\n            .then(response => response.data.resultCode)\r\n    },\r\n    unFollow: function (userId) {\r\n        return requestSetup\r\n            .delete(`follow/${userId}`)\r\n            .then(response => response.data.resultCode)\r\n    },\r\n    // Следующим образом мы можем старый метод который испоьзуется в коде, оставить рабочим, но функционал делегировать другому методу.\r\n    getUserProfile: function(userId){\r\n        console.warn('Obsolete method. Please use profileAPI object.')\r\n        return profileAPI.getUserProfile(userId);\r\n    },\r\n}\r\n\r\nexport const profileAPI = {\r\n    getUserProfile: function(userId){\r\n        return requestSetup\r\n            .get(`profile/${userId}`)\r\n            .then(response => response.data)\r\n    },\r\n    getStatus: function (userId) {\r\n        return requestSetup\r\n            .get(`profile/status/${userId}`)\r\n            .then(response => response.data)\r\n    },\r\n    updateStatus: function (status) {\r\n        return requestSetup\r\n            .put(`profile/status`,{ status: status});\r\n    }\r\n\r\n}\r\n\r\nexport const authAPI = {\r\n    authMe: function(){\r\n        return requestSetup.get('auth/me')\r\n            .then(response => {\r\n                if(response.data.resultCode === 0){\r\n                    return response.data.data\r\n                }\r\n            });\r\n    },\r\n    login: function(email, password, rememberMe = false){\r\n        return requestSetup.post('auth/login', {email, password, rememberMe})\r\n    },\r\n    logout: function(){\r\n        return requestSetup.delete('auth/login');\r\n\r\n    }\r\n\r\n}\r\n\r\n\r\n\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__3u2NC\",\"item\":\"Navbar_item__QtV_N\",\"active\":\"Navbar_active__3sM7-\"};","import React from 'react'\r\nimport { NavLink } from 'react-router-dom'\r\nimport s from './../../styles/Navbar.module.css'\r\n\r\nconst Navbar = () => {\r\n  return (\r\n    <nav className={s.nav}>\r\n      <div><NavLink className={s.item} to=\"/profile\" activeClassName={s.active}>Profile</NavLink></div>\r\n      <div><NavLink className={s.item} to=\"/dialogs\" activeClassName={s.active}>Dialogs</NavLink></div>\r\n      <div><NavLink className={s.item} to=\"/users\" activeClassName={s.active}>Users</NavLink></div>\r\n      <div><NavLink className={s.item} to=\"/news\" activeClassName={s.active}>News</NavLink></div>\r\n      <div><NavLink className={s.item} to=\"/music\" activeClassName={s.active}>Music</NavLink></div>\r\n      <div><NavLink className={s.item} to=\"/settings\" activeClassName={s.active}>Settings</NavLink></div>\r\n    </nav>\r\n  )\r\n}\r\n\r\nexport default Navbar\r\n","export const updateObjectInArray = (items, itemId, objectPropName, newObjectProps) => {\r\n    return items.map(u => {\r\n        if(u[objectPropName] === itemId){\r\n            return {...u, ...newObjectProps}\r\n        }\r\n        return u\r\n})\r\n}\r\n\r\n// Функция выше заменяет следующее:\r\n\r\n// case FOLLOW:\r\n//    return {...state, users: state.users.map(user => {\r\n//        if(user.id === action.payload){\r\n//            return {...user, followed: true}\r\n//        }\r\n//        return user\r\n//        })}\r\n\r\n","import {\r\n    FOLLOW,\r\n    UNFOLLOW,\r\n    SET_ACTIVE_PAGE,\r\n    SET_TOTAL_COUNT,\r\n    SET_USERS,\r\n    TOGGLE_IS_FOLLOWING,\r\n    TOGGLE_IS_FETCHING_USERS\r\n} from \"../const\";\r\nimport {usersAPI} from \"../../api/api\";\r\nimport {updateObjectInArray} from \"../../utils/reducerHelper\";\r\n\r\nconst initialState = {\r\n    users: [],\r\n    pageSize: 100,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: false,\r\n    followUnfollowInProgress: [], // Для того чтобы не disable все кнопки, мы сюда будем заносить UserID\r\n    fake: 10\r\n}\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case TOGGLE_IS_FETCHING_USERS:\r\n            return {...state, isFetching: action.payload}\r\n        case SET_USERS:\r\n            // return ниже будеть при новом запросе будет добавлять пользователей вниз списка\r\n            // return {...state, users: [...state.users, ...action.payload]}\r\n\r\n            // return ниже будеть при новом запросе будет показывать только пользователей с конкретной страницы\r\n            return {...state, users: action.payload}\r\n        case SET_TOTAL_COUNT:\r\n            return {...state, totalUsersCount: action.payload}\r\n        case TOGGLE_IS_FOLLOWING:\r\n            return {\r\n                ...state,\r\n                followUnfollowInProgress: action.payload.isFetching\r\n                        ?\r\n                    // Нажали кнопку - занесли userId в массив followUnfollowInProgress\r\n                    [...state.followUnfollowInProgress, action.payload.userId]\r\n                        :\r\n                    // Получили ответ с сервера - убрали userId из массива followUnfollowInProgress\r\n                    [...state.followUnfollowInProgress.filter(id => id != action.payload.userId)]\r\n            }\r\n        // case FOLLOW:\r\n        //    return {...state, users: state.users.map(user => {\r\n        //        if(user.id === action.payload){\r\n        //            return {...user, followed: true}\r\n        //        }\r\n        //        return user\r\n        //        })}\r\n        case FOLLOW:\r\n            return {...state, users: updateObjectInArray(state.users, action.payload, \"id\", {followed: true})}\r\n        // case UNFOLLOW:\r\n        //     return {...state, users: state.users.map(user => {\r\n        //             if(user.id === action.payload){\r\n        //                 return {...user, followed: false}\r\n        //             }\r\n        //             return user\r\n        //         })}\r\n        case FOLLOW:\r\n            return {...state, users: updateObjectInArray(state.users, action.payload, \"id\", {followed: false})}\r\n        case SET_ACTIVE_PAGE :\r\n            return {...state, currentPage: action.payload}\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\n\r\n// Action creators\r\nexport const followSuccessAC = (userId) => ({type: FOLLOW, payload:  userId})\r\nexport const unFollowSuccessAC = (userId) => ({type: UNFOLLOW, payload:  userId})\r\nexport const setUsersAC = (users) => ({type: SET_USERS, payload: users})\r\nexport const setCurrentPage = (pageNumber) => ({type: SET_ACTIVE_PAGE, payload: pageNumber})\r\nexport const setTotalUsersCountAC = (totalCount) => ({type: SET_TOTAL_COUNT, payload: totalCount})\r\nexport const toggleIsFetching = (isFetching) => ({type: TOGGLE_IS_FETCHING_USERS, payload: isFetching})\r\nexport const toggleFollowingProgressAC = (isFetching, userId) => ({type: TOGGLE_IS_FOLLOWING, payload: {isFetching, userId}})\r\n\r\nconst followUnFollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\r\n    dispatch(toggleFollowingProgressAC(true, userId))\r\n    const response = await apiMethod(userId)\r\n    if(response === 0 ){\r\n        dispatch(actionCreator(userId))\r\n    }\r\n    dispatch(toggleFollowingProgressAC(false, userId))\r\n}\r\n\r\n// Thunk creators\r\nexport const requestUsers = (currentPage, pageSize) => async (dispatch) => {\r\n    dispatch(toggleIsFetching(true))\r\n    dispatch(setCurrentPage(currentPage))\r\n    const response = await usersAPI.getUsers(currentPage, pageSize)\r\n    dispatch(toggleIsFetching(false))\r\n    dispatch(setUsersAC(response.items))\r\n    dispatch(setTotalUsersCountAC(response.totalCount))\r\n\r\n}\r\nexport const follow = (userId) => async (dispatch) => {\r\n    followUnFollowFlow(dispatch, userId, usersAPI.follow.bind(usersAPI), followSuccessAC)\r\n}\r\n\r\n\r\nexport const unFollow = (userId) => async (dispatch) => {\r\n    followUnFollowFlow(dispatch, userId, usersAPI.unFollow.bind(usersAPI), unFollowSuccessAC)\r\n\r\n}\r\n\r\n\r\nexport default usersReducer","import React, {useState} from \"react\";\r\nimport styles from \"./Pagination.module.css\";\r\n\r\n\r\n\r\nconst Pagination = ({totalUsersCount, pageSize, currentPage, setCurrentPageHandler, portionSize = 10}) => {\r\n    let totalUserPages = Math.ceil(totalUsersCount / pageSize)\r\n    let pages = []\r\n    for(let i = 1; i <= totalUserPages; i++){\r\n        pages.push(i)\r\n    }\r\n\r\n    let portionCount = Math.ceil(totalUserPages / portionSize)\r\n    let [portionNumber, setPortionNumber] = useState(1)\r\n    let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1\r\n    let rightPortionPageNumber = portionNumber * portionSize\r\n\r\n    console.log(portionCount)\r\n    console.log(portionNumber)\r\n    console.log(totalUserPages)\r\n    return (\r\n\r\n            <div>\r\n                {portionNumber > 1 && <button onClick={() => setPortionNumber(portionNumber - 1)}>prev</button> }\r\n                {pages\r\n                    .filter(p => p >= leftPortionPageNumber && p<= rightPortionPageNumber)\r\n                    .map(page => <span key={page} onClick={(e) => {setCurrentPageHandler(page)}} className={currentPage === page && styles.selected}> {page}</span>)}\r\n                {portionCount > portionNumber && <button onClick={() => setPortionNumber(portionNumber + 1)}>next</button>}\r\n            </div>\r\n\r\n    )\r\n}\r\n\r\nexport default Pagination","import React from \"react\";\r\nimport styles from \"./Users.module.css\";\r\nimport noFoto from \"../../assets/images/noLogo.png\";\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst SingleUser = ({user, unFollow, follow, followUnfollowInProgress}) => {\r\n\r\n    return (\r\n                    <div className={styles.user}>\r\n                        <div >\r\n                            <NavLink to={`/profile/${user.id}`}>\r\n                                <img className={styles.userPhoto} src={user.photos.small ? user.photos.small : noFoto} alt=\"\"/>\r\n                            </NavLink>\r\n                        </div>\r\n                        <div>\r\n                            <div>ID: {user.id}</div>\r\n                            <div>Name: {user.name}</div>\r\n                            {user.followed ? (\r\n                                <button onClick={() => {unFollow(user.id) }} disabled={followUnfollowInProgress.some(id => id === user.id)}>Unfollow</button>\r\n                            ) : (\r\n                                <button onClick={() => {follow(user.id)}} disabled={followUnfollowInProgress.some(id => id === user.id)}>Follow</button>\r\n                            )}\r\n                        </div>\r\n                    </div>\r\n                )\r\n}\r\n\r\nexport default SingleUser","export default \"data:image/png;base64,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\"","import React from \"react\";\r\nimport Pagination from \"../common/Pagination/Pagination\";\r\nimport SingleUser from \"./SingleUser\";\r\n\r\nconst Users = ({totalUsersCount, pageSize, currentPage, setCurrentPageHandler, users, unFollow, follow, followUnfollowInProgress}) => {\r\n    let totalUserPages = Math.ceil(totalUsersCount / pageSize)\r\n    let pages = []\r\n    for(let i = 1; i <= totalUserPages; i++){\r\n        pages.push(i)\r\n    }\r\n    return (\r\n        <div >\r\n            <Pagination setCurrentPageHandler={setCurrentPageHandler} currentPage={currentPage} pageSize={pageSize} totalUsersCount={totalUsersCount}/>\r\n            {users.map(user => <SingleUser user={user} follow={follow} unFollow={unFollow} followUnfollowInProgress={followUnfollowInProgress} key={user.id}/>)}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Users","import {createSelector} from \"reselect\";\r\n\r\n\r\nconst getUsers = (state) => {\r\n    return state.usersPage.users\r\n}\r\nexport const getUsersReselect = createSelector(getUsers, (users) => {\r\n    return users.filter(u => true)\r\n})\r\nexport const getPageSize = (state) => {\r\n    return state.usersPage.pageSize\r\n}\r\nexport const getTotalUsersCount = (state) => {\r\n    return state.usersPage.totalUsersCount\r\n}\r\nexport const getCurrentPage = (state) => {\r\n    return state.usersPage.currentPage\r\n}\r\nexport const getIsFetching = (state) => {\r\n    return state.usersPage.isFetching\r\n}\r\nexport const getFollowUnfollowInProgress = (state) => {\r\n    return state.usersPage.followUnfollowInProgress\r\n}\r\n\r\n\r\n\r\n","import React from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {\r\n    setCurrentPage,\r\n    setTotalUsersCountAC,\r\n    setUsersAC,\r\n    requestUsers, follow, unFollow\r\n} from \"../redux/reducers/usersReducer\";\r\nimport Users from \"./Users/Users\";\r\nimport Loader from \"./common/Loader\";\r\nimport {\r\n    getCurrentPage,\r\n    getFollowUnfollowInProgress,\r\n    getIsFetching,\r\n    getPageSize,\r\n    getTotalUsersCount,\r\n    getUsersReselect\r\n} from \"../redux/usersSelectors\";\r\n\r\nclass UsersContainer extends React.Component{\r\n    componentDidMount() {\r\n        const {currentPage, pageSize, requestUsers} = this.props\r\n        requestUsers(currentPage, pageSize)\r\n    }\r\n\r\n    setCurrentPageHandler = (pageNumber) => {\r\n        const {requestUsers, pageSize} = this.props\r\n        requestUsers(pageNumber, pageSize)\r\n    }\r\n\r\n    render(){\r\n        return (\r\n            <>\r\n                {this.props.isFetching && <Loader />}\r\n                <Users\r\n                    totalUsersCount={this.props.totalUsersCount}\r\n                    currentPage = {this.props.currentPage}\r\n                    users = {this.props.users}\r\n                    pageSize = {this.props.pageSize}\r\n                    setCurrentPageHandler = {this.setCurrentPageHandler}\r\n                    follow = {this.props.follow}\r\n                    unFollow = {this.props.unFollow}\r\n                    isFetching = {this.props.isFetching}\r\n                    followUnfollowInProgress = {this.props.followUnfollowInProgress}\r\n                />\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\n// dispatch закинет сюда connect\r\n// Без селекторов\r\n// const mapStateToProps = (state) => {\r\n//     return {\r\n//         users: state.usersPage.users,\r\n//         pageSize: state.usersPage.pageSize,\r\n//         totalUsersCount: state.usersPage.totalUsersCount,\r\n//         currentPage: state.usersPage.currentPage,\r\n//         isFetching: state.usersPage.isFetching,\r\n//         followUnfollowInProgress: state.usersPage.followUnfollowInProgress\r\n//     }\r\n// }\r\n\r\n\r\n// dispatch закинет сюда connect\r\n// const mapDispatchToProps = (dispatch) => {\r\n//     return {\r\n//         followUnfollow: (userId) => dispatch(followUnfollowAC(userId)),\r\n//         setUsersAC: (users) => dispatch(setUsersAC(users)),\r\n//         setCurrentPage: (pageNumber) => dispatch(setCurrentPageAC(pageNumber)),\r\n//         setTotalUsersCountAC: (totalCount) => dispatch(setTotalUsersCountAC(totalCount)),\r\n//         toggleIsFetching: () => dispatch(toggleIsFetchingAC())\r\n//     }\r\n// }\r\n\r\n\r\n// // Без compose\r\n// const UsersWithRedirect = withAuthRedirect(UsersContainer)\r\n// export default connect(mapStateToProps,{\r\n//     setUsersAC,\r\n//     setCurrentPage,\r\n//     setTotalUsersCountAC,\r\n//     getUsersThunkCreator,\r\n//     followThunkCreator,\r\n//     unFollowThunkCreator\r\n// })(UsersContainer)\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        users: getUsersReselect(state),\r\n        pageSize: getPageSize(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followUnfollowInProgress: getFollowUnfollowInProgress(state)\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps,{\r\n        setUsersAC,\r\n        setCurrentPage,\r\n        setTotalUsersCountAC,\r\n        requestUsers,\r\n        follow,\r\n        unFollow\r\n    })(UsersContainer)\r\n","import React from 'react'\r\nimport s from './../../styles/Header.module.css'\r\n\r\n\r\nconst Header = (props) => {\r\n  return (\r\n    <header className={s.header}>\r\n      <img src=\"data:image/png;base64,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\" alt=\"\" />\r\n      <div className={s.loginBlock}>\r\n          {props.isAuth &&(\r\n              <div>\r\n                  <span>{props.login}</span> - <button onClick={props.logoutThunkCreator}>Logout</button>\r\n              </div>\r\n          )}\r\n      </div>\r\n    </header>\r\n  )\r\n}\r\n\r\nexport default Header","import {authAPI, usersAPI} from \"../../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nconst SET_USER_DATA = 'thisApp/authReducer/SET_USER_DATA'\r\n\r\n\r\nlet initialState = {\r\n    userId: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false\r\n}\r\n\r\nexport const authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_USER_DATA:\r\n            // ...action.payload идет после ...state, поэтому значения будут переопределены\r\n            return {...state, ...action.payload}\r\n        default:\r\n            return state\r\n    }\r\n}\r\n// Action creators\r\nexport const setAuthUserData = (userId, email, login, isAuth) =>  ({type: SET_USER_DATA, payload: {userId, email, login, isAuth }})\r\n\r\n// Thunk creators\r\nexport const getUserCredentialsThunkCreator = () => async (dispatch) => {\r\n    const response = await authAPI.authMe()\r\n        if(response) {\r\n            let {id, email, login} = response\r\n            dispatch(setAuthUserData(id, email, login, true))\r\n        }\r\n}\r\n\r\nexport const loginThunkCreator = (email, password, rememberMe) => async (dispatch) => {\r\n    const response = await authAPI.login(email, password, rememberMe)\r\n            if(response.data.resultCode === 0){\r\n                dispatch(getUserCredentialsThunkCreator())\r\n            } else {\r\n                //stopSubmit, В объекте можно передать отдельное поле, либо общее значение для формы через ключ _error\r\n                let errorMessage = response.data.messages.length > 0 ? response.data.messages[0] : \"Wrong credentials\"\r\n                dispatch(stopSubmit('login', {_error: errorMessage}))\r\n            }\r\n}\r\n\r\n// При выходе сервер удалит cookies\r\nexport const logoutThunkCreator = (email, password, rememberMe) => async (dispatch) => {\r\n    const response = await authAPI.logout()\r\n        if(response.data.resultCode === 0) {\r\n            dispatch(setAuthUserData(null, null, null, false))\r\n        }\r\n}\r\n","import React from \"react\";\r\nimport Header from \"./Header/Header\";\r\nimport {connect} from \"react-redux\";\r\nimport {logoutThunkCreator} from \"../redux/reducers/authReducer\";\r\n\r\nclass HeaderContainer extends React.Component{\r\n    render(){\r\n        return <Header {...this.props}/>\r\n    }\r\n}\r\nlet mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n    login: state.auth.login,\r\n})\r\n\r\nexport default connect(mapStateToProps, {logoutThunkCreator})(HeaderContainer)","import React from \"react\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {createField, Input} from \"../common/FormsControls/FormsControls\";\r\nimport {maxLengthCreator, required} from \"../../utils/reduxFormValidators\";\r\nimport {connect} from \"react-redux\";\r\nimport {loginThunkCreator} from \"../../redux/reducers/authReducer\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport styles from './../common/FormsControls/formControls.module.css'\r\n\r\nconst Login = ({loginThunkCreator, isAuth}) => {\r\n    // 3. Говорим что делать с данными\r\n    const onSubmitHandler = ({email, password, rememberMe}) => {\r\n        loginThunkCreator(email, password, rememberMe)\r\n    }\r\n    if(isAuth){\r\n        return <Redirect to={\"/profile\"} />\r\n    }\r\n    return (\r\n        <div>\r\n            {/* 2. Объект который собрал handleSubmit мы передаем сюда*/}\r\n            <ReduxLoginForm onSubmit={onSubmitHandler}/>\r\n        </div>\r\n    )\r\n}\r\n\r\n// Когда мы передаем функцию с замыканием в компоненту, она возвращает нам новую функцию\r\n// поэтому начинаются проблемы, поэтому вызов maxLengthCreator нужно сделать за пределами компоненты\r\nconst maxLength20 = maxLengthCreator(20)\r\n\r\n// В props redux-form закинет очень много функционала\r\nconst LoginForm = ({handleSubmit, error}) => {\r\n    return (\r\n        // 1. handleSubmit сделает preventDefault, соберет введенные данные и упакует их в объект\r\n        <form onSubmit={handleSubmit}>\r\n            <h1>Login</h1>\r\n             {createField(\"email\", \"email\", \"Enter email\", Input, [required, maxLength20])}\r\n             {createField(\"password\", \"password\", \"Enter password\", Input, [required, maxLength20])}\r\n             {createField(\"rememberMe\", \"checkbox\", null, Input, [], \"Remember Me\")}\r\n            {error && <div className={styles.formSummaryError}>{error}</div>}\r\n            <div>\r\n                <button>Submit</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\n// Через HOC reduxForm наделяем нашу целевую компоненту SignInForm функционалом redux-form\r\nconst ReduxLoginForm = reduxForm({\r\n    // state для redux-form один, но форм будет много, поэтому каждой форме даем уникальное имя.\r\n    form: 'login'\r\n})(LoginForm)\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth\r\n})\r\n\r\n// Чтобы не засорять презентационную компоненту подключаем connect\r\nexport default connect(mapStateToProps, {loginThunkCreator})(Login);","import {getUserCredentialsThunkCreator} from \"./authReducer\";\r\nconst SET_INITIALIZED = \"thisApp/appReducer/SET_INITIALIZED\"\r\n\r\n\r\n\r\nlet initialState = {\r\n    initialized: false\r\n}\r\n\r\nexport const appReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_INITIALIZED:\r\n            return {...state, initialized: true}\r\n        default:\r\n            return state\r\n    }\r\n}\r\n// Action creators\r\nexport const setInitializedSuccess = () =>  ({type: SET_INITIALIZED})\r\n\r\n// Thunk creators\r\nexport const  initializeApp = () => (dispatch) => {\r\n    let promise = dispatch(getUserCredentialsThunkCreator())\r\n        Promise.all([promise]).then(() => {\r\n            dispatch(setInitializedSuccess())\r\n    })\r\n}\r\n\r\nexport default appReducer;\r\n","\r\nlet initialState = {}\r\nconst sidebarReducer = (state = initialState, action) => {\r\n\r\n    return state\r\n}\r\n\r\nexport default sidebarReducer","import {applyMiddleware, combineReducers, compose, createStore} from \"redux\";\r\nimport profileReducer from \"./reducers/profileReducer\";\r\nimport dialogsReducer from \"./reducers/dialogsReducer\";\r\nimport sidebarReducer from \"./reducers/sidebarReducer\";\r\nimport usersReducer from \"./reducers/usersReducer\";\r\nimport {authReducer} from \"./reducers/authReducer\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport { reducer as formReducer } from 'redux-form'\r\nimport appReducer from \"./reducers/appReducer\";\r\n\r\nlet reducers = combineReducers({\r\n    app: appReducer,\r\n    profilePage: profileReducer,\r\n    dialogsPage: dialogsReducer,\r\n    sidebarPage: sidebarReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n\r\n})\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(\r\n    applyMiddleware(thunkMiddleware)\r\n));\r\n\r\n\r\nwindow.store = store\r\n\r\nexport default store\r\n\r\n\r\n","import React from \"react\";\r\nimport Loader from \"../Components/common/Loader\";\r\n\r\n\r\nconst WithSuspense = (Component) => {\r\n    return (props) => {\r\n        return <React.Suspense fallback={<Loader/>}>\r\n            <Component {...props} />\r\n        </React.Suspense>\r\n    }\r\n}\r\n\r\nexport default WithSuspense","import React, {Suspense} from \"react\";\r\nimport {Route, BrowserRouter} from 'react-router-dom'\r\nimport Navbar from './Components/Navbar/Navbar'\r\nimport  './styles/App.css'\r\n\r\nimport UsersContainer from \"./Components/UsersContainer\";\r\nimport HeaderContainer from \"./Components/HeaderContainer\";\r\nimport Login from \"./Components/Forms/Login\";\r\nimport {connect, Provider} from \"react-redux\";\r\nimport {initializeApp} from \"./redux/reducers/appReducer\";\r\nimport Loader from \"./Components/common/Loader\";\r\nimport store from \"./redux/reduxStore\";\r\nimport WithSuspense from \"./HOC/withSuspense\";\r\n\r\n// Ленивая загрузка, эти копмоненты и их подкомпоненты не попадут в bundle.js и первоначальная загрузка выполнится быстрее.\r\n// Таким образом мы ускоряем первоначальную загрузку, но замедляем дальнешую работу.\r\n// Лениво загружают компоненты, которые редко / реже посещают, для этого нужна статистика посещений\r\nconst DialogsContainer = React.lazy(() => import('./Components/DialogsContainer'))\r\nconst ProfileContainer = React.lazy(() => import('./Components/ProfileContainer'))\r\n\r\n\r\n\r\nclass App extends React.Component {\r\n    componentDidMount() {\r\n        this.props.initializeApp()\r\n    }\r\n\r\n    render() {\r\n        if(!this.props.initialized){\r\n            return <Loader />\r\n        }\r\n        return (\r\n                      <div className=\"app-wrapper\">\r\n                        <HeaderContainer/>\r\n                        <Navbar/>\r\n                        <div className=\"app-wrapper-content\">\r\n                          <Route path='/dialogs' render={WithSuspense(DialogsContainer)}/>\r\n                          <Route path='/profile' render={WithSuspense(ProfileContainer)}/>\r\n                          <Route path='/users' render={() => <UsersContainer/>}/>\r\n                          <Route path='/login' render={() => <Login/>}/>\r\n                        </div>\r\n                      </div>\r\n\r\n        );\r\n  }\r\n}\r\nconst mapStateToProps = (state) => ({\r\n    initialized: state.app.initialized\r\n})\r\n\r\n// В старом коде, можно увидеть еще один контейнер с withRouter\r\n// Контейнерная компонента ниже нужна для теста\r\nconst AppContainer = connect(mapStateToProps, {initializeApp})(App)\r\nconst MainApp = (props) => {\r\n    return (\r\n        <BrowserRouter>\r\n            <Provider store={store}>\r\n                <AppContainer />\r\n            </Provider>\r\n        </BrowserRouter>\r\n    )\r\n}\r\n\r\nexport default MainApp;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport MainApp from \"./App\";\r\n\r\n\r\n\r\n    ReactDOM.render(\r\n        <MainApp />,\r\n            document.getElementById('root')\r\n\r\n\r\n    );\r\n\r\n\r\n\r\n\r\n","import React from \"react\";\r\nimport styles from './formControls.module.css'\r\nimport {Field} from \"redux-form\";\r\nimport {required} from \"../../../utils/reduxFormValidators\";\r\n\r\nconst FormControl = ({input, meta: {touched, error}, children}) => {\r\n    const isError = error && touched\r\n    return (\r\n        <div className={styles.formControl + ' ' + (isError ? styles.error : '')} >\r\n            {/*Когда создаем оболочку над компонентой всегда нужно передать props дальше.*/}\r\n            <div>\r\n                {children}\r\n            </div>\r\n            {isError && <span>{error}</span>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Textarea = (props) => {\r\n    const {input, meta, child, ...restProps} = props;\r\n    return <FormControl {...props}><textarea {...input} {...restProps}/></FormControl>\r\n}\r\n\r\nexport const Input = (props) => {\r\n    const {input, meta, child, ...restProps} = props;\r\n    return <FormControl {...props}><input {...input} {...restProps}/></FormControl>\r\n}\r\n\r\nexport const createField = (name, type, placeholder, component, validate, textContent = \"\") => {\r\n    return (\r\n        <div>\r\n            <Field name={name} type={type} placeholder={placeholder} component={component} validate={validate}/>\r\n        </div>\r\n    )\r\n}\r\n\r\n// {createField(\"email\", \"email\", \"Enter email\", Input, [required, maxLength20])}\r\n// {createField(\"password\", \"password\", \"Enter password\", Input, [required, maxLength20])}\r\n// {createField(\"rememberMe\", \"checkbox\", null, Input, [], \"Remember Me\")}","import React from 'react';\r\nimport styles from '../../styles/Loader.module.css'\r\nconst Loader = () => {\r\n    return (\r\n        // there is two loader with class loader_1 and loader_2\r\n        <div className={styles.loader_1}>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Loader;","\r\n\r\n\r\nexport const required = value => {\r\n    if(value) return undefined;\r\n    return \"Field is required\";\r\n}\r\n\r\n// Когда мы передаем функцию с замыканием в компоненту, она возвращает нам новую функцию\r\n// поэтому начинаются проблемы, поэтому вызов maxLengthCreator нужно сделать за пределами компоненты\r\nexport const maxLengthCreator = maxLength => value => {\r\n    if (value && value.length > maxLength) return `Max length is ${maxLength} symbols`;\r\n    return undefined;\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"formControls_formControl__1Wuwd\",\"error\":\"formControls_error__1OfP8\",\"formSummaryError\":\"formControls_formSummaryError__2jTN_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"user\":\"Users_user__3pWYA\",\"userPhoto\":\"Users_userPhoto__q5sIP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__2mWR5\",\"loginBlock\":\"Header_loginBlock__y1QOD\"};","\r\nimport {profileAPI, usersAPI} from \"../../api/api\";\r\n\r\nconst ADD_POST = 'thisApp/profileReducer/ADD_POST'\r\nconst SET_USER_PROFILE = 'thisApp/profileReducer/SET_USER_PROFILE'\r\nconst GET_STATUS = 'thisApp/profileReducer/GET_STATUS'\r\n\r\nlet initialState = {\r\n    posts: [\r\n        {id:1, message: 'James', likesCount: 2},\r\n        {id:2, message: 'Bond', likesCount: 2},\r\n        {id:3, message: 'James Bond', likesCount: 2},\r\n    ],\r\n    profile: null,\r\n    status: ''\r\n}\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n    switch(action.type){\r\n        case ADD_POST: {\r\n            let newPost = {\r\n                id: 3,\r\n                message: action.payload,\r\n                likesCount: 0\r\n            }\r\n            return {...state, posts: [...state.posts, newPost]}\r\n        }\r\n        case SET_USER_PROFILE:\r\n            return {...state, profile: action.payload}\r\n        case GET_STATUS:\r\n            return {...state, status: action.payload}\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\n// Action creators\r\nexport const addPostAC = (value) => ({type: ADD_POST, payload: value})\r\nexport const setUserProfile = (profile) => ({type: SET_USER_PROFILE, payload: profile})\r\nexport const setStatusAC = (status) => ({type: GET_STATUS, payload: status})\r\n\r\n// Thunk creators, use only when we need to make an API request\r\nexport const getUsersProfileThunkCreator = (userId) => async (dispatch) => {\r\n    const response = await usersAPI.getUserProfile(userId)\r\n        dispatch(setUserProfile(response))\r\n}\r\n\r\nexport const getStatusThunkCreator = (userId) => async (dispatch) => {\r\n    const response = await profileAPI.getStatus(userId)\r\n        dispatch(setStatusAC(response))\r\n}\r\nexport const updateStatusThunkCreator = (statusText) => async (dispatch) => {\r\n    const response = await profileAPI.updateStatus(statusText)\r\n        if(response.data.resultCode === 0){\r\n            dispatch(setStatusAC(statusText))\r\n        }\r\n}\r\n\r\nexport default profileReducer"],"sourceRoot":""}