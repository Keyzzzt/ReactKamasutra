{"version":3,"sources":["HOC/WithAuthRedirect.js","styles/Profile.module.css","styles/MyPosts.module.css","styles/Post.module.css","Components/Profile/ProfileStatus.jsx","Components/Profile/ProfileStatusHooks.jsx","Components/Profile/ProfileInfo/ProfileInfo.jsx","Components/Profile/Myposts/Post/Post.jsx","Components/Forms/AddPostForm.jsx","Components/Profile/Myposts/MyPosts.jsx","Components/MyPostsContainer.js","Components/Profile/Profile.jsx","Components/ProfileContainer.js"],"names":["mapStateToProps","state","isAuth","auth","withAuthRedirect","Component","RedirectComponent","this","props","to","React","connect","module","exports","ProfileStatusHooks","useState","status","setStatus","editMode","setEditMode","useEffect","onDoubleClick","onChange","e","target","value","autoFocus","onBlur","updateStatusThunkCreator","type","ProfileInfo","profile","className","s","profileBackground","src","alt","profileInfo","photos","small","fullName","aboutMe","lookingForAJob","Loader","Post","item","avatarImage","message","maxLength10","maxLengthCreator","ReduxFormAddPost","reduxForm","form","onSubmit","handleSubmit","newPost","Field","name","placeholder","component","Textarea","validate","required","AddPostForm","onSubmitHandler","MyPosts","console","log","postList","posts","map","p","id","myPosts","addPost","newPostBody","MyPostsContainer","profilePage","newPostText","dispatch","addPostAC","Profile","content","ProfileContainer","userId","match","params","authorizedUserId","history","push","getUsersProfileThunkCreator","getStatusThunkCreator","compose","withRouter"],"mappings":"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","file":"static/js/3.261b1723.chunk.js","sourcesContent":["import React from \"react\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        isAuth: state.auth.isAuth\r\n    }\r\n}\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n    class RedirectComponent extends React.Component {\r\n        render () {\r\n            if(!this.props.isAuth){\r\n                return <Redirect to='/login' />\r\n             }\r\n            return <Component {...this.props} />\r\n        }\r\n    }\r\n\r\n    let ConnectedRedirectComponent = connect(mapStateToProps)(RedirectComponent)\r\n\r\n    return ConnectedRedirectComponent;\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profileBackground\":\"Profile_profileBackground__3cxLV\",\"profileInfo\":\"Profile_profileInfo__1-L7F\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"myPosts\":\"MyPosts_myPosts__1MdBl\",\"newPost\":\"MyPosts_newPost__18P0g\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__ORwh_\",\"avatarImage\":\"Post_avatarImage__1VX2B\"};","import React from \"react\";\r\n\r\n// Классовые компоненты всегда должны наследоваться от React.Component\r\n// Тут FLUX не проходит через глобальный state, так как status в глобальном state это тот статус который он получил с сервера.\r\n// Пока пользователь что то меняет, но не отправляет это на сервер, то мы организоваваем FLUX в локальном state.\r\n class ProfileStatus extends React.Component{\r\n     // Если часть state никому кроме отдельной компоненты не нужен, можно сделать его локальным, чтобы не засорять глобальный.\r\n     state = {\r\n         editMode: false,\r\n         status: this.props.status\r\n     }\r\n\r\n     // Чтобы не потерять контекст и не байндить, пишем метод при помощи стрелочной функции:\r\n     // Обязательно менять state через setState(), иначе React не обновится.\r\n     // setState() - асинхронная функция, поэтому если мы выведем значение до и после изменения, оно будет равно значению до setState().\r\n     activateEditMode = () => {\r\n        this.setState({\r\n            editMode: true\r\n        })\r\n     }\r\n     deActivateEditMode = () => {\r\n         // При изменении editMode, status остается неизменным, аналагично и наоборот при изменении status\r\n         this.setState({\r\n             editMode: false\r\n         })\r\n         this.props.updateStatusThunkCreator(this.state.status)\r\n     }\r\n     onStatusChange = (e) => {\r\n         this.setState({\r\n             status: e.target.value\r\n         })\r\n     }\r\n\r\n     componentDidUpdate(prevProps, prevState, snapshot) {\r\n         // Поскольку мы делаем два разных запроса в Profile Container нам нужно синхронизироваться\r\n         // Проще было сделать это через один запрос. Но тут наглядно видим как можно использовать componentDidUpdate\r\n         if(prevProps.status !== this.props.status){\r\n             this.setState({\r\n                 status: this.props.status\r\n             })\r\n         }\r\n     }\r\n\r\n\r\n     render() {\r\n        return <>\r\n            {!this.state.editMode &&\r\n                <div>\r\n                    <span onDoubleClick={this.activateEditMode}>{this.props.status || 'No status.'}</span>\r\n                </div>\r\n            }\r\n\r\n            {this.state.editMode &&\r\n            <div>\r\n                <input onChange={this.onStatusChange} autoFocus={true} onBlur={this.deActivateEditMode} type=\"text\" value={this.state.status} />\r\n            </div>\r\n            }\r\n        </>\r\n\r\n    }\r\n}\r\n\r\nexport default ProfileStatus;","import React, {useEffect, useState} from \"react\";\r\n\r\n\r\n\r\n const ProfileStatusHooks = (props) => {\r\n     const [status, setStatus] = useState(props.status)\r\n     const [editMode, setEditMode] = useState(false)\r\n\r\n     // useEffect принимает функцию, которую он выполнит после отрисовки компоненты.\r\n     // Если в массиве зависимостей мы не укажем параметры от которых мы зависим, то useEffect запустится после каждой отрисовки.\r\n     // Указав props.status в массиве зависимостей, мы вызываем useEffect всегда, когда придет новый props.status\r\n     useEffect(() => {\r\n         setStatus(props.status)\r\n     }, [props.status])\r\n\r\n\r\n     const activateEditMode = () => {\r\n         setEditMode(true)\r\n     }\r\n     const deActivateEditMode = () => {\r\n         setEditMode(false)\r\n         props.updateStatusThunkCreator(status)\r\n     }\r\n     const onStatusChange = (e) => {\r\n         setStatus(e.target.value)\r\n     }\r\n\r\n        return <>\r\n            {!editMode &&\r\n                <div>\r\n                    <span onDoubleClick={activateEditMode}>{props.status || 'No status.'}</span>\r\n                </div>\r\n            }\r\n\r\n            {editMode &&\r\n            <div>\r\n                <input onChange={onStatusChange} autoFocus={true} onBlur={deActivateEditMode} type=\"text\" value={status} />\r\n            </div>\r\n            }\r\n        </>\r\n\r\n}\r\n\r\nexport default ProfileStatusHooks;","import React from 'react'\r\nimport s from './../../../styles/Profile.module.css'\r\nimport Loader from \"../../common/Loader\";\r\nimport ProfileStatus from \"../ProfileStatus\";\r\nimport ProfileStatusHooks from \"../ProfileStatusHooks\";\r\n\r\n\r\nconst ProfileInfo = ({profile, status, updateStatusThunkCreator}) => {\r\n    if (!profile){\r\n        return <Loader />\r\n    }\r\n  return (\r\n    <div>\r\n      <img className={s.profileBackground} src=\"https://www.istockphoto.com/resources/images/HomePage/Hero/1204187820.jpg\" alt=\"background\" />\r\n      <div className={s.profileInfo}>\r\n        <h3>Profile Info</h3>\r\n          <ProfileStatusHooks status={status} updateStatusThunkCreator={updateStatusThunkCreator}/>\r\n          <img src={profile.photos.small} alt=\"\"/>\r\n          <div>Имя: {profile.fullName}</div>\r\n          <div>About Me: {profile.aboutMe}</div>\r\n          <div>Ищу работу: {profile.lookingForAJob ? 'Да' : 'Нет'}</div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ProfileInfo\r\n","import React from 'react'\r\nimport s from './../../../../styles/Post.module.css'\r\n\r\nconst Post = (props) => {\r\n  return (\r\n    <div className={s.item}>\r\n      <img className={s.avatarImage} src=\"data:image/png;base64,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\" alt=\"avatar\" />\r\n      {props.message}\r\n      <div>\r\n        <span>Like</span>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Post","import React from \"react\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport s from \"../../styles/MyPosts.module.css\";\r\nimport {maxLengthCreator, required} from \"../../utils/reduxFormValidators\";\r\nimport {Textarea} from \"../common/FormsControls/FormsControls\";\r\n\r\nconst AddPostForm = (props) => {\r\n    return (\r\n        // onSubmitHandler переданный сюда от родителя будет далее обрабатывать данные полученные от redux-form\r\n        <ReduxFormAddPost onSubmit={props.onSubmitHandler}/>\r\n    )\r\n}\r\n\r\n// Когда мы передаем функцию с замыканием в компоненту, она возвращает нам новую функцию\r\n// поэтому начинаются проблемы, поэтому вызов maxLengthCreator нужно сделать за пределами компоненты\r\nconst maxLength10 = maxLengthCreator(10)\r\n\r\nconst AddPost = (props) => {\r\nreturn (\r\n    <form onSubmit={props.handleSubmit} className={s.newPost}>\r\n        <div>\r\n            <Field name={\"newPostBody\"} placeholder={\"New post text\"} component={Textarea} validate={[required, maxLength10]}/>\r\n        </div>\r\n        <div>\r\n            <button>Submit</button>\r\n        </div>\r\n    </form>\r\n)\r\n}\r\n\r\n\r\nconst ReduxFormAddPost =  reduxForm({\r\n    // state для redux-form один, но форм будет много, поэтому каждой форме даем уникальное имя.\r\n    form: 'addPost'\r\n})(AddPost)\r\n\r\nexport default AddPostForm;","import React, { createRef } from 'react';\r\nimport s from './../../../styles/MyPosts.module.css';\r\nimport Post from './Post/Post';\r\nimport AddPostForm from \"../../Forms/AddPostForm\";\r\n\r\n\r\n\r\nconst MyPosts = (props) => {\r\n  console.log('RENDER')\r\n  let postList = props.posts.map(p => <Post key={p.id} message={p.message} />);\r\n\r\n  const onSubmitHandler = (value) => {\r\n    props.addPost(value.newPostBody)\r\n  }\r\n\r\n  return (\r\n    <div className={s.myPosts}>\r\n      <h3>My Posts</h3>\r\n        <AddPostForm onSubmitHandler={onSubmitHandler}/>\r\n      {postList}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default MyPosts;","import React from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport MyPosts from \"./Profile/Myposts/MyPosts\";\r\nimport {addPostAC} from \"../redux/reducers/profileReducer\";\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        posts: state.profilePage.posts,\r\n        newPostText: state.profilePage.newPostText,\r\n    }\r\n}\r\nlet mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        addPost: (value)  => {\r\n            dispatch(addPostAC(value))\r\n        }\r\n    }\r\n}\r\n\r\nconst MyPostsContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts)\r\n\r\nexport default MyPostsContainer;\r\n\r\n","import React from 'react'\r\nimport s from './../../styles/Profile.module.css'\r\nimport ProfileInfo from './ProfileInfo/ProfileInfo'\r\nimport MyPostsContainer from \"../MyPostsContainer\";\r\n\r\n\r\nconst Profile = (props) => {\r\n  return (\r\n    <div className={s.content}>\r\n      <ProfileInfo profile={props.profile} status={props.status} updateStatusThunkCreator={props.updateStatusThunkCreator}/>\r\n      <MyPostsContainer />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Profile\r\n","import React from \"react\";\r\nimport Profile from \"./Profile/Profile\";\r\nimport {\r\n    getStatusThunkCreator,\r\n    getUsersProfileThunkCreator, updateStatusThunkCreator,\r\n} from \"../redux/reducers/profileReducer\";\r\nimport {connect} from \"react-redux\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport {withAuthRedirect} from \"../HOC/WithAuthRedirect\";\r\nimport {compose} from \"redux\";\r\nimport Loader from \"./common/Loader\";\r\n\r\nconst mapStateToProps = (state) => ({\r\n    profile: state.profilePage.profile,\r\n    status: state.profilePage.status,\r\n    authorizedUserId: state.auth.userId,\r\n    isAuth: state.auth.isAuth\r\n})\r\n\r\nclass ProfileContainer extends React.Component{\r\n    componentDidMount() {\r\n        let userId = this.props.match.params.userId\r\n        if(!userId){\r\n            userId = this.props.authorizedUserId\r\n            if(!userId){\r\n                this.props.history.push('/login')\r\n            }\r\n\r\n        }\r\n        this.props.getUsersProfileThunkCreator(userId)\r\n        this.props.getStatusThunkCreator(userId)\r\n    }\r\n\r\n\r\n    render(){\r\n        return (\r\n            <div>\r\n                {!this.props.authorizedUserId && <Loader />}\r\n                <Profile {...this.props}/>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n// // Без compose()()\r\n// // Добавляем обертку при помощи HOC, наделяя ее Redirect`ом\r\n// let AuthRedirectComponent = withAuthRedirect(ProfileContainer)\r\n//\r\n// // Теперь в ProfileContainerWithURL будут данные из URL - match, location, history.\r\n// let ProfileContainerWithURL = withRouter(AuthRedirectComponent)\r\n//\r\n// export default connect(mapStateToProps, {getUsersProfileThinkCreator})(ProfileContainerWithURL)\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {getUsersProfileThunkCreator, getStatusThunkCreator, updateStatusThunkCreator}),\r\n    withRouter,\r\n    withAuthRedirect\r\n)(ProfileContainer)\r\n\r\n\r\n"],"sourceRoot":""}